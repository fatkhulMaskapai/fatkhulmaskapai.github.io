<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Firestore Get Document Example</title>

    <!-- Tambahkan Firebase JavaScript SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script>
        // Pastikan Firebase SDK dimuat terlebih dahulu sebelum digunakan
        document.addEventListener("DOMContentLoaded", function() {
            // Konfigurasi Firebase
            const firebaseConfig = {
            apiKey: "AIzaSyDbkJ7ZzEWAOm8EPzy7dQynPrY8IZg-pGY",
            authDomain: "daumenfrosch-blizzard-blitz.firebaseapp.com",
            projectId: "daumenfrosch-blizzard-blitz",
            storageBucket: "daumenfrosch-blizzard-blitz.firebasestorage.app",
            messagingSenderId: "121279468398",
            appId: "1:121279468398:web:fc5381d86e4b690ab9677f"
        };


            // Inisialisasi Firebase
            firebase.initializeApp(firebaseConfig);
        });
    </script>
</head>
<body>
    <h2>Get Document from Firebase Firestore</h2>

    <!-- Form untuk memasukkan ID dokumen yang ingin diambil -->
    <label for="docIdInput">Enter Document ID:</label>
    <input type="text" id="docIdInput" placeholder="Document ID">
    <button onclick="getDocument()">Get Document</button>

    <h3>Document Data:</h3>
    <pre id="output"></pre>

    <script>
        // Pastikan Firestore diakses setelah Firebase diinisialisasi
        function getDocument() {
            // Konfigurasi Firestore
            const db = firebase.firestore();

            // Ambil ID dokumen dari input
            const docId = document.getElementById("docIdInput").value;
            const collectionName = "Account"; // Ganti dengan nama koleksi Anda

            // Lakukan pengecekan apakah ID dokumen diisi
            if (!docId) {
                alert("Please enter a document ID.");
                return;
            }

            // Ambil dokumen dari Firestore
            db.collection(collectionName).doc(docId).get()
                .then((doc) => {
                    if (doc.exists) {
                        // Tampilkan data dokumen di elemen output
                        document.getElementById("output").textContent = JSON.stringify(doc.data(), null, 2);
                        console.log("Document data:", doc.data());
                    } else {
                        document.getElementById("output").textContent = "No such document!";
                        console.log("No such document!");
                    }
                })
                .catch((error) => {
                    console.error("Error getting document: ", error);
                    document.getElementById("output").textContent = "Error getting document: " + error.message;
                });
        }
    </script>
</body>
</html>
